<!doctype html>
<html>
	<head>
		<title> Trains </title>

		<style>
			body {font-family: Verdana, Geneva, Tahoma, sans-serif;
					font-size: 150px;
					background-color: lightgray;
					color: midnightblue;}
		</style>
	</head>

	<body>
		<script>
			function formatTime(n){
				var a = Math.floor(n/3600);
				var b = n % 3600 / 60;
				a = a.toString();
				b = b.toString();

				if (a.length === 1){
					a = "0" + a;
				}
				if (b.length === 1){
					b = "0" + b;
				}
				return a + ":" + b;
			}
			var depTimeList = [17940, 18840, 19740, 20640, 21540, 22260, 22620, 22980, 23340, 23700, 24060, 24420, 24780, 25140, 25560, 25920, 26280, 26640, 27000, 27360, 27720, 28080, 28440, 28800, 29160, 29520, 29880, 30240, 30600, 30960, 31320, 31680, 32100, 32460, 32880, 33240, 33600, 33960, 34320, 34680, 35040, 35400, 35760, 36120, 36480, 36840, 37200, 37560, 37920, 38280, 38640, 39000, 39420, 39780, 40140, 40500, 40860, 41220, 41580, 41940, 42300, 42660, 43020, 43380, 43740, 44100, 44460, 44820, 45180, 45540, 45960, 46320, 46740, 47100, 47460, 47820, 48180, 48540, 48900, 49260, 49620, 49980, 50340, 50700, 51060, 51420, 51780, 52080, 52500, 52860, 53280, 53640, 54000, 54360, 54720, 55080, 55440, 55800, 56160, 56520, 56880, 57240, 57600, 57960, 58320, 58680, 59040, 59400, 59820, 60180, 60600, 60960, 61320, 61680, 62040, 62400, 62760, 63120, 63480, 63840, 64200, 64560, 64920, 65280, 65640, 66000, 66360, 66720, 67140, 67500, 67860, 68220, 68580, 68940, 69300, 69660, 70020, 70380, 70740, 71100, 71460, 71820, 72180, 72540, 72900, 73260, 73680, 74040, 74460, 74820, 75180, 75540, 75900, 76260, 76620, 76980, 77340, 77700, 78000, 78300, 78960, 79560, 80220, 80820, 81480, 82080, 82740, 83340, 84000, 84600, 85260, 85860];
			var arrTimeList = [18360, 19260, 20160, 21060, 21960, 22680, 23040, 23400, 23760, 24120, 24480, 24840, 25200, 25560, 25980, 26340, 26700, 27060, 27420, 27780, 28140, 28500, 28860, 29220, 29580, 29940, 30300, 30660, 31020, 31380, 31740, 32100, 32520, 32880, 33300, 33660, 34020, 34380, 34740, 35100, 35460, 35820, 36180, 36540, 36900, 37260, 37620, 37980, 38340, 38700, 39060, 39420, 39840, 40200, 40560, 40920, 41280, 41640, 42000, 42360, 42720, 43080, 43440, 43800, 44160, 44520, 44880, 45240, 45600, 45960, 46380, 46740, 47160, 47520, 47880, 48240, 48600, 48960, 49320, 49680, 50040, 50400, 50760, 51120, 51480, 51840, 52200, 52500, 52920, 53280, 53700, 54060, 54420, 54780, 55140, 55500, 55860, 56220, 56580, 56940, 57300, 57660, 58020, 58380, 58740, 59100, 59460, 59820, 60240, 60600, 61020, 61380, 61740, 62100, 62460, 62820, 63180, 63540, 63900, 64260, 64620, 64980, 65340, 65700, 66060, 66420, 66780, 67140, 67560, 67920, 68280, 68640, 69000, 69360, 69720, 70080, 70440, 70800, 71160, 71520, 71880, 72240, 72600, 72960, 73320, 73680, 74100, 74460, 74880, 75240, 75600, 75960, 76320, 76680, 77040, 77400, 77760, 78120, 78420, 78720, 79380, 79980, 80640, 81240, 81900, 82500, 83160, 83760, 84420, 85020, 85680, 86280];
			var toStation = 600;
			var toSchool = 240;

			var desiredArrivalTime = prompt("What time do you want to be there?").split(":");
			desiredArrivalTime = desiredArrivalTime[0]*3600 + desiredArrivalTime[1]*60;
			desiredArrivalTime -= toSchool;

			for (arrTime of arrTimeList.reverse()){
				if (arrTime <= desiredArrivalTime){
					var leaveHome = depTimeList[arrTimeList.length - arrTimeList.indexOf(arrTime) - 1] - toStation - 60;
					var nea_ionia_arrival = formatTime(arrTime);
            		var school_arrival = formatTime(arrTime + toSchool);
            		var agios_eleftherios_arrival = formatTime(leaveHome + toStation);
            		var train_leaves = formatTime(depTimeList[arrTimeList.length - arrTimeList.indexOf(arrTime) - 1]);
					break;
				}
			}
			document.write("<center>" + formatTime(leaveHome) + "<center/>");
			document.write("Arrive at Ag. Eleftherios: ".fontsize(15) + agios_eleftherios_arrival.fontsize(15) + "<br/>".fontsize(15));
			document.write("Train Leaves: ".fontsize(15) + train_leaves.fontsize(15) + "<br/>".fontsize(15));
			document.write("Arrive at Nea Ionia: ".fontsize(15) + nea_ionia_arrival.fontsize(15) + "<br/>".fontsize(15));
			document.write("Arrive at School: ".fontsize(15) + school_arrival.fontsize(15) + "<br/>".fontsize(15));
		</script>
	</body>

</html>